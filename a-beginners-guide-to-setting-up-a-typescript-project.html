<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>A Beginner&#x27;s Guide To Setting Up A Typescript Project - GBlog</title><meta name="description" content="6 min TypeScript has gained and is still gaining an enormous following as a programming language. However, beginners sometimes find it difficult to set up their projects, such that appropriate&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://mrkintoye.com.ng/media/plugins/syntaxHighlighter/prism-black.css"><link rel="canonical" href="https://mrkintoye.com.ng/a-beginners-guide-to-setting-up-a-typescript-project.html"><link rel="alternate" type="application/atom+xml" href="https://mrkintoye.com.ng/feed.xml" title="GBlog - RSS"><link rel="alternate" type="application/json" href="https://mrkintoye.com.ng/feed.json" title="GBlog - JSON"><meta property="og:title" content="A Beginner's Guide To Setting Up A Typescript Project"><meta property="og:site_name" content="GBlog"><meta property="og:description" content="6 min TypeScript has gained and is still gaining an enormous following as a programming language. However, beginners sometimes find it difficult to set up their projects, such that appropriate&hellip;"><meta property="og:url" content="https://mrkintoye.com.ng/a-beginners-guide-to-setting-up-a-typescript-project.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://mrkintoye.com.ng/assets/css/style.css?v=c02fac7138283a329f550439f28ded09"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://mrkintoye.com.ng/a-beginners-guide-to-setting-up-a-typescript-project.html"},"headline":"A Beginner's Guide To Setting Up A Typescript Project","datePublished":"2023-08-16T15:08+01:00","dateModified":"2023-08-24T11:28+01:00","description":"6 min TypeScript has gained and is still gaining an enormous following as a programming language. However, beginners sometimes find it difficult to set up their projects, such that appropriate&hellip;","author":{"@type":"Person","name":"Goke Akintoye","url":"https://mrkintoye.com.ng/authors/goke-akintoye/"},"publisher":{"@type":"Organization","name":"Goke Akintoye"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script type="text/javascript">(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "im5h8xvq81");</script><link rel="stylesheet" href="/assets/css/vendor/w3.css"><script src="/assets/js/vendor/w3.js"></script></head><body class="post-template"><div style="width:750px; height:auto;display:block;margin-left:auto;margin-right:auto;" w3-include-html="/ads/adContainers/headerADsX.html"></div>&nbsp;<header class="top js-header"><a class="logo" href="https://mrkintoye.com.ng/">GBlog</a></header><main class="post"><article class="content"><div class="hero hero--noimage"><header class="hero__content"><div class="wrapper"><h1>A Beginner&#x27;s Guide To Setting Up A Typescript Project</h1><div class="feed__meta content__meta"><a href="https://mrkintoye.com.ng/authors/goke-akintoye/" class="feed__author">Goke Akintoye</a> <time datetime="2023-08-16T15:08" class="feed__date">August 16, 2023</time></div></div></header></div><div class="entry-wrapper content__entry"><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/tsLogob-2.png" height="770" width="794" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/tsLogob-2-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/tsLogob-2-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/tsLogob-2-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/tsLogob-2-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/tsLogob-2-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/tsLogob-2-2xl.webp 1920w"></figure><p>6 min</p><p>TypeScript has gained and is still gaining an enormous following as a programming language. However, beginners sometimes find it difficult to set up their projects, such that appropriate JavaScript files are generated and bundled. This is necessary because TypeScript is a compiled language normally compiled into JavaScript.<br><br>This tutorial will show you an easy and effective way to set up your TypeScript project to both compile and bundle your TypeScript files to be useable either in the node or browser runtime environments.<br><br>Let's get started.</p><p><strong>Prerequisites:</strong></p><ul><li>VS Code: I assume you're using VS Code. It makes not only TypeScript but application development generally a lot easier. And it's available for major OSs and also free. You can get it <a href="https://code.visualstudio.com/" target="_blank">here</a>.</li><li>You may want to check out my other post on Setting up VS Code for TypeScript development <a href="#non-existing-post-with-id-2">here</a>.<br></li><li>You should be able to create a folder on your computer and navigate its directory.<br></li></ul><div><div style="width:750px; height:auto;display:block;margin-left:auto;margin-right:auto;" w3-include-html="/ads/adContainers/headerADs.html"></div>&nbsp;</div><p><strong>Step 1: Create a project folder:</strong><br><br>This is the folder that’ll contain your TypeScript project. You can name it whatever you want for your project. In this write-up, we’ll name our project folder pro_folder. The folder can be in any location on your computer, where you have chosen to save your TypeScript project.<br>Step 2: Open the folder in VS Code:<br><br>Right-click on the created folder in step 1 (pro_folder) and click on Open with Code. This will open the folder in VS Code editor.</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-2.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-2-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-2-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-2-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-2-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-2-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-2-2xl.webp 1920w"></figure><p>On opening, VS Code should look like in the diagram below , with our project folder displayed to the left.<br><br><strong>Please note that I'm using a dark theme.</strong></p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-3.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-3-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-3-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-3-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-3-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-3-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-3-2xl.webp 1920w"></figure><p>Click the "Yes, I trust the Authors" button, and move to the next step in the tutorial.</p><div><div style="width:800px; height:auto;display:block;margin-left:auto;margin-right:auto;" w3-include-html="/ads/adContainers/headerADs1.html"></div>&nbsp;</div><p><strong>Step 3: Initialize the project:</strong><br><br>Initialize the project from within VS Code Command line tool. To open the Command line tool, from the menu, at the top of VS Code, select Terminal, and then New Terminal. The terminal tool window will open either at the bottom or side of VS Code. Then enter the code below into the window and press Enter key to initialize the project</p><pre class="line-numbers language-html"><code>npm init -y</code></pre><p>After running the command above, your VS Code setup should look like we have below:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-4.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-4-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-4-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-4-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-4-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-4-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-4-2xl.webp 1920w"></figure><p>Click on the package.json folder to open it. Its content should look as shown below:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-5.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-5-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-5-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-5-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-5-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-5-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-5-2xl.webp 1920w"></figure><p>Now let's move to the next step.</p><p><strong>Step 4: Install TypeScript:</strong></p><p>To install the TypeScript compiler, type the following command in the Command line window.</p><pre class="line-numbers language-html"><code>npm install -g typescript</code></pre><p>Once you have entered the code, remember to press Enter key to run it.<br>Afterward, type in the following code to put Typescript as one of your development dependencies.</p><pre class="line-numbers language-html"><code>npm install -D typescript</code></pre><p>After running the two commands above, TypeScript should now appear in our package.json as a tool our application depends on.</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-6.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-6-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-6-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-6-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-6-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-6-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-6-2xl.webp 1920w"></figure><div><div style="width:800px; height:auto;display:block;margin-left:auto;margin-right:auto;" w3-include-html="/ads/adContainers/headerADs2.html"></div>&nbsp;</div><p><strong>Step 5: Install Webpack , Webpack CLI tool , TS-Loader and Babel:</strong></p><p>Webpack will be used to bundle our TypeScript code. To install it type and run the following code.</p><pre class="line-numbers language-html"><code>npm install -D webpack webpack-cli ts-loader webpack-dev-server</code></pre><p>followed by the command below.</p><pre class="line-numbers language-html"><code>npm install --save-dev babel-core babel-loader
</code></pre><p>The package.json file should have been automatically updated after running the above command as shown below:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-15.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-15-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-15-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-15-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-15-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-15-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-15-2xl.webp 1920w"></figure><p><strong>Step 6: Create a tsconfig.json file:</strong></p><p>In the VS Code file explorer, place your cursor on the project folder, in this case, called pro_folder, and click on the New File icon. Enter tsconfig.json as the name of the file and press ENTER, and VS Code will open the file automatically. Copy the code below into the created file and save it.</p><pre class="line-numbers language-html"><code>{
    "compilerOptions": {
      /* Basic Options */
      "target": "ES2015" /* Build to ES2015 */,
      "module": "ES2015" /* using ES2015 modules */,
      "lib": ["es2015", "dom"] /* Using ES2015 features and DOM APIs  */,
      "declaration": true /* Generates corresponding'.d.ts' files. */,
      "declarationDir": "./dist/typings/" /* build '.d.ts' files to ./dist/typeings */,
      "outDir": "./dist/esm/" /* build to ./dist/esm/ */,
      "sourceMap": true,
      "inlineSources": true
    },
    "files": ["./src/index.ts"],
    "include": ["./src/**/*.ts"]
  }
</code></pre><p>The tsconfig.json file should now look as shown below:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-8.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-8-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-8-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-8-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-8-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-8-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-8-2xl.webp 1920w"></figure><div><div style="width:800px; height:auto;display:block;margin-left:auto;margin-right:auto;" w3-include-html="/ads/adContainers/headerADs3.html"></div>&nbsp;</div><p><strong>Step 7: Create a webpack.config.js file:</strong></p><p>Following the same steps in step 6 above, create another file named webpack.config.js and copy, paste and save the code below into it.</p><pre class="line-numbers language-html"><code>const path = require("path");

module.exports = (env, argv) =&gt; {
  return {
    entry: {
      index: path.resolve(__dirname, "./dist/esm/index.js")
    },
    output: {
      path: path.resolve(__dirname, "./dist/umd"), // builds to ./dist/umd/
      filename: "[name].js", // index.js
      library: "myLibrary", // aka window.myLibrary
      libraryTarget: "umd", // supports commonjs, amd and web browsers
      globalObject: "this"
    },
    module: {
      rules: [{ test: /\.t|js$/, use: "babel-loader" }]
    }
  };
};
</code></pre><p>After carrying out the instruction above, the webpack.config.js file should look something like this:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-9.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-9-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-9-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-9-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-9-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-9-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-9-2xl.webp 1920w"></figure><p></p><p><strong>Step 8: Update the package.json file:</strong></p><p>Add the following code snippet to your package.json:</p><pre class="line-numbers language-html"><code>  "main": "./dist/umd/index.js",
  "module": "./dist/esm/index.js",
  "types": "./dist/typings/index.d.ts",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "build": "webpack",
    "prebuild": "tsc"
  }
</code></pre><p>The content of the package.json file should now look something like as we have below:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-10.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-10-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-10-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-10-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-10-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-10-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-10-2xl.webp 1920w"></figure><div><div style="width:800px; height:auto;display:block;margin-left:auto;margin-right:auto;" w3-include-html="/ads/adContainers/headerADs4.html"></div>&nbsp;</div><p><strong>Step 9: Create The src Folder:</strong></p><p>It's time to create the src folder. This is the folder that'll hold our TypeScript files. Place your cursor over the PRO_Folder and click the New Folder icon. Enter the name of the folder as src. Our file structure should contain the new folder (src) and look something like the diagram below.</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-11.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-11-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-11-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-11-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-11-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-11-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-11-2xl.webp 1920w"></figure><p><strong>Step 10: Start Developing Your Project:</strong></p><p>Wao, we've come a long way having put all the tools needed together while setting up our project.<br><br>Now we can start writing our TypeScript code. However, since this tutorial is not about learning TypeScript we'll keep the code example very simple.<br><br>Let's start by creating two TypeScript files. Since all our TypeScript files are to be placed in the src folder we created earlier, these two files should be placed there.<br><br><strong>Please note that though we are using only two files for our example, you are free to use as many TypeScript files as your project might need.</strong></p><div><div style="width:800px; height:auto;display:block;margin-left:auto;margin-right:auto;" w3-include-html="/ads/adContainers/headerADs5.html"></div>&nbsp;</div><p><strong>Step 11: Create Your TypeScript Files:</strong></p><p>We start by creating the first of the two files we want to create for this project and we will name it index.ts. To create this file, right-click on the src folder in the Explorer pane in VS Code, and click on New File, see the diagram below:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-12.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-12-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-12-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-12-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-12-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-12-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-12-2xl.webp 1920w"></figure><p>Copy, paste and save the code below into the index.ts file.</p><pre class="line-numbers language-html"><code>import {multiplier} from './multiplier';
</code></pre><p>So that the index.ts file now looks something like below:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-13.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-13-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-13-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-13-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-13-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-13-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-13-2xl.webp 1920w"></figure><p>Using the same method used above for creating the index.ts file, create another file in the src folder and name it multiplier.ts. And copy, paste and save into it the code below.</p><pre class="line-numbers language-html"><code>export function multiplier(a:number,b:number):number{
    return a*b;
}
</code></pre><p>The multiplier.ts file should now looks something like this:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-14.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-14-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-14-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-14-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-14-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-14-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-14-2xl.webp 1920w"></figure><p><strong>Step 12: Build :</strong></p><p>It's time to build and bundle our TypeScript code into appropriate JavaScript file(s) that we can use either in browse or node-based applications. It all depends on the purpose of your code.<br><br>To build and bundle our application, generate a .map file for debugging, and also create a .d.ts file for developers who might want to use your code(if what you are coding is a library for example), run the command below.</p><pre class="line-numbers language-html"><code>npm run build
</code></pre><p>If the build process was successful, a folder named dist containing three other folders (namely esm, umd, and typings) will have been created inside your project folder.<br><br>The esm folder contains JavaScript code that can be used in node-based applications as well as corresponding .map files; while the umd folder contains the one usable for web browser-based applications. The typings folder on the other hand contains .d.ts files. See the diagram below.</p><figure class="post__image post__image--center"><img loading="lazy" src="https://mrkintoye.com.ng/media/posts/1/2023-08-15-18.png" height="768" width="1366" alt="" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-18-xs.webp 640w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-18-sm.webp 768w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-18-md.webp 1024w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-18-lg.webp 1366w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-18-xl.webp 1600w, https://mrkintoye.com.ng/media/posts/1/responsive/2023-08-15-18-2xl.webp 1920w"></figure><div><div style="width:800px; height:auto;display:block;margin-left:auto;margin-right:auto;" w3-include-html="/ads/adContainers/headerADs6.html"></div>&nbsp;</div></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on August 24, 2023</p><div class="content__actions"><ul class="content__tag"><li><a href="https://mrkintoye.com.ng/tags/babel/">Babel</a></li><li><a href="https://mrkintoye.com.ng/tags/build/">Build</a></li><li><a href="https://mrkintoye.com.ng/tags/esm/">ESM</a></li><li><a href="https://mrkintoye.com.ng/tags/javascript/">JavaScript</a></li><li><a href="https://mrkintoye.com.ng/tags/project/">Project</a></li><li><a href="https://mrkintoye.com.ng/tags/typescript/">TypeScript</a></li><li><a href="https://mrkintoye.com.ng/tags/typescript-build/">TypeScript Build</a></li><li><a href="https://mrkintoye.com.ng/tags/typescript-project/">TypeScript Project</a></li><li><a href="https://mrkintoye.com.ng/tags/umd/">UMD</a></li><li><a href="https://mrkintoye.com.ng/tags/vs-code/">VS Code</a></li><li><a href="https://mrkintoye.com.ng/tags/webpack/">Webpack</a></li></ul><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmrkintoye.com.ng%2Fa-beginners-guide-to-setting-up-a-typescript-project.html" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fmrkintoye.com.ng%2Fa-beginners-guide-to-setting-up-a-typescript-project.html&amp;via=GBlog&amp;text=A%20Beginner's%20Guide%20To%20Setting%20Up%20A%20Typescript%20Project" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fmrkintoye.com.ng%2Fa-beginners-guide-to-setting-up-a-typescript-project.html&amp;media=undefined&amp;description=A%20Beginner's%20Guide%20To%20Setting%20Up%20A%20Typescript%20Project" class="js-share pinterest" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#pinterest"/></svg> <span>Pinterest</span> </a><a href="https://mix.com/add?url=https%3A%2F%2Fmrkintoye.com.ng%2Fa-beginners-guide-to-setting-up-a-typescript-project.html" class="js-share mix" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#mix"/></svg> <span>Mix</span> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fmrkintoye.com.ng%2Fa-beginners-guide-to-setting-up-a-typescript-project.html" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://buffer.com/add?text=A%20Beginner's%20Guide%20To%20Setting%20Up%20A%20Typescript%20Project&amp;url=https%3A%2F%2Fmrkintoye.com.ng%2Fa-beginners-guide-to-setting-up-a-typescript-project.html" class="js-share buffer" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#buffer"/></svg> <span>Buffer</span> </a><a href="https://api.whatsapp.com/send?text=A%20Beginner's%20Guide%20To%20Setting%20Up%20A%20Typescript%20Project https%3A%2F%2Fmrkintoye.com.ng%2Fa-beginners-guide-to-setting-up-a-typescript-project.html" class="js-share whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div></div></div><div class="content__bio bio"><div><h3 class="h4 bio__name"><a href="https://mrkintoye.com.ng/authors/goke-akintoye/" rel="author">Goke Akintoye</a></h3></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://mrkintoye.com.ng/setting-up-auto-linting-and-formatting-for-typescript-in-vs-code.html" class="content__nav-link" rel="prev"><div><span>Previous</span> Setting Up TypeScript Code Auto Linting And Formatting For VS Code</div></a></div></div></div></nav></footer></article><div class="content__comments"><div class="entry-wrapper"><div class="comments"><div class="comments-wrapper"><h2>Comments</h2><div class="fb-comments" data-href="https://mrkintoye.com.ng/a-beginners-guide-to-setting-up-a-typescript-project.html" data-width="100%" data-colorscheme="light" data-lazy="true" data-order-by="reverse_time" data-numposts="5"></div><noscript>Please enable JS to use the comments form.</noscript></div></div><div id="fb-root"></div><script type="text/javascript" async defer="defer" crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v12.0">nonce="n4mWU9e7"</script></div></div></main><footer class="footer footer--glued"><div class="wrapper"><div class="footer__copyright"><p>Copyright © 2022-<script>document.write(new Date().getFullYear())</script><span style="margin-left: 15px;">Goke Akintoye</span></p></div><button id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://mrkintoye.com.ng/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://mrkintoye.com.ng/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script>w3.includeHTML(whenIncludeDone);
function whenIncludeDone(){
    
    var cnt = 10000;
    w3.slideshow(".headerADsX",cnt);
    console.log(".headerADsX");
    w3.slideshow(".headerAD",cnt);
    console.log(".headerAD");
    w3.slideshow(".headerAD1",cnt);
    console.log(".headerAD1");
    w3.slideshow(".headerAD2",cnt);
    console.log(".headerAD2");
    w3.slideshow(".headerAD3",cnt);
    console.log(".headerAD3");
    w3.slideshow(".headerAD4",cnt);
    console.log(".headerAD4");
    w3.slideshow(".headerAD5",cnt);
    console.log(".headerAD5");
    w3.slideshow(".headerAD6",cnt);
    console.log(".headerAD6");
    w3.show('.HAD');
    }</script><script defer="defer" src="https://mrkintoye.com.ng/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://mrkintoye.com.ng/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://mrkintoye.com.ng/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://mrkintoye.com.ng/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script defer="defer" src="https://mrkintoye.com.ng/media/plugins/syntaxHighlighter/prism-autolinker.min.js"></script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="#not-specified">More details...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="#not-specified">More details...</a></div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Required</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>